<div class="flex justify-center">
  @if(airline){
    <div class="space-y-8 w-full max-w-3xl mb-40">
      <div class="p-6 bg-white rounded-lg shadow w-full max-w-4xl">
        <div class="space-y-4 text-gray-800" [formGroup]="profileForm">
          <!-- Name -->
          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-center">Name:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.name }}</span>
              <div active class="relative">
                <input hlmInput id="name" formControlName="name" type="text" class="w-64 h-8" />
              </div>
            </app-switcher>
          </div>

          <!-- Nation -->
          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-center">Nation:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ selectedNation?.value || 'Not selected' }}</span>
              <div active class="relative bg-white border border-gray-300 rounded-md w-64 ">
                <search-input
                  [inputValue]="selectedNation"
                  (inputValueChange)="onNationChange($event)"
                  (searchValueChange)="onSearchValueChange($event)"
                  [popoverRelativePosition]="{ top: 20, left: -20 }"
                  [searchList]="nations"
                  placeHolder="Select a nation..."
                  noResultsText="No nations found"
                  class="text-sm font-normal py-2 h-fit px-4">
                </search-input>
                <div *ngIf="profileForm.get('nation_id')?.invalid && profileForm.get('nation_id')?.touched" class="absolute left-full top-0 w-40 ml-1 bg-white border border-red-300 text-red-700 text-xs rounded px-2 py-1 shadow">
                  <span *ngIf="profileForm.get('nation_id')?.errors?.['required']">Nation is required.</span>
                  <span *ngIf="profileForm.get('nation_id')?.errors?.['invalidNation']">Please select a valid nation.</span>
                </div>
              </div>
            </app-switcher>
          </div>

          <!-- Address -->
          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-center">Address:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.address }}</span>
              <div active class="relative">
                <input hlmInput id="address" formControlName="address" type="text" class="w-64 h-8" />
              </div>
            </app-switcher>
          </div>

          <!-- Zip Code -->
          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-center">Zip Code:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.zip }}</span>
              <div active class="relative">
                <input hlmInput id="zip" formControlName="zip" type="text" class="w-64 h-8" />
              </div>
            </app-switcher>
          </div>

          <!-- Email -->
          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-center">Email:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.email }}</span>
              <div active class="relative">
                <input hlmInput id="email" formControlName="email" type="text" class="w-64 h-8" />
                <div *ngIf="profileForm.get('email')?.invalid" class="absolute left-full top-0 w-40 ml-1 bg-white border border-red-300 text-red-700 text-xs rounded px-2 py-1 shadow">
                  Invalid email address.
                </div>
              </div>
            </app-switcher>
          </div>

          <!-- Website -->
          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-center">Website:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.website }}</span>
              <div active class="relative">
                <input hlmInput id="website" formControlName="website" type="text" class="w-64 h-8" />
              </div>
            </app-switcher>
          </div>

          <!-- Class Descriptions -->
          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-start">First Class Desc.:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.first_class_description }}</span>
              <div active class="relative">
                <textarea hlmInput id="first_class_description" formControlName="first_class_description" rows="3" class="w-64"></textarea>
              </div>
            </app-switcher>
          </div>

          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-start">Business Class Desc.:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.business_class_description }}</span>
              <div active class="relative">
                <textarea hlmInput id="business_class_description" formControlName="business_class_description" rows="3" class="w-64"></textarea>
              </div>
            </app-switcher>
          </div>

          <div class="flex">
            <span class="w-52 font-medium text-gray-700 flex items-start">Economy Class Desc.:</span>
            <app-switcher [isActive]="isEditMode">
              <span inactive>{{ airline.economy_class_description }}</span>
              <div active class="relative">
                <textarea hlmInput id="economy_class_description" formControlName="economy_class_description" rows="3" class="w-64"></textarea>
              </div>
            </app-switcher>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-end mt-6 space-x-3">
          <button hlmBtn variant="outline" (click)="toggleEditMode()">
            {{ isEditMode ? 'Back' : 'Edit' }}
          </button>
          <button hlmBtn *ngIf="isEditMode" [disabled]="!profileForm.valid || isLoading || profileForm.pristine" (click)="onFormSubmit()">
            <ng-icon *ngIf="isLoading" hlm name="lucideLoaderCircle" size="sm" class="mr-2 animate-spin"></ng-icon>
            Save
          </button>
        </div>
      </div>
    </div>
  }

</div>
