<!-- src/app/my-reservations/my-reservations.component.html -->
<div class="flight-overview space-y-8">

  <ng-container *ngFor="let reservation of reservations; let rIdx = index">
    <!-- Single card per reservation -->
    <div
      class="flight-section border border-gray-200 rounded-lg p-6 shadow-sm"
      [class.mt-8]="rIdx === 0">

      <!-- Reservation header (optional) -->
      <div class="text-xl font-semibold text-gray-700 mb-4">
        {{ reservation.name }} - {{ reservation.id }}
      </div>

      <div class="space-y-6">
        <!-- Outbound Flight -->
        <div>
          <div class="text-lg font-semibold text-gray-700 mb-2">Outbound Flight</div>
          <div class="space-y-4">
            <div
              *ngFor="let seg of reservation.segments | slice:0:1"
              class="flight-segment flex flex-col md:flex-row md:items-center md:justify-between bg-gray-50 p-4 rounded-md"
            >
              <!-- Route -->
              <div class="flight-route flex items-center space-x-2 text-lg font-medium text-gray-800">
                <span>{{ seg.departureAirport }}</span>
                <span class="text-gray-500">→</span>
                <span>{{ seg.arrivalAirport }}</span>
              </div>
              <!-- Times -->
              <div class="flight-times flex items-center space-x-6 text-sm text-gray-600 mt-2 md:mt-0">
                <div><span class="font-medium">Dep:</span> {{ seg.departureTime }}</div>
                <div><span class="font-medium">Arr:</span> {{ seg.arrivalTime }}</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Return Flight (if present) -->
        <div *ngIf="reservation.segments.length > 1">
          <div class="text-lg font-semibold text-gray-700 mb-2">Return Flight</div>
          <div class="space-y-4">
            <div
              *ngFor="let seg of reservation.segments | slice:1"
              class="flight-segment flex flex-col md:flex-row md:items-center md:justify-between bg-gray-50 p-4 rounded-md"
            >
              <!-- Route -->
              <div class="flight-route flex items-center space-x-2 text-lg font-medium text-gray-800">
                <span>{{ seg.departureAirport }}</span>
                <span class="text-gray-500">→</span>
                <span>{{ seg.arrivalAirport }}</span>
              </div>
              <!-- Times -->
              <div class="flight-times flex items-center space-x-6 text-sm text-gray-600 mt-2 md:mt-0">
                <div><span class="font-medium">Dep:</span> {{ seg.departureTime }}</div>
                <div><span class="font-medium">Arr:</span> {{ seg.arrivalTime }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Actions for the entire reservation -->
      <div class="flex justify-end space-x-2 mt-6">
        <button hlmBtn variant='outline'
          (click)="modifyDateReservation(reservation.id)"
          class="px-4 py-2 bg-black text-white"
        >
          Modify date
        </button>
        <button hlmBtn variant='outline'
          (click)="modifyExtrasReservation(reservation.id)"
          class="px-4 py-2 bg-black text-white"
        >
          Modify extras
        </button>
        <button hlmBtn variant='outline'
          (click)="cancelReservation(reservation.id)"
          class="px-4 py-2 "
        >
          Cancel
        </button>
      </div>

    </div>
  </ng-container>
</div>
